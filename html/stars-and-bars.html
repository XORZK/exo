<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Stars and Bars</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <script src="./js/math-jax.js" type="text/javascript"></script>

<script type="text/javascript"
src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Stars and Bars</h1>
<p class="date">07-12-2023</p>
</header>
<p>Within the mathematical field of combinatorics and contest mathematics, stars and bars is a popular idea for deriving certain theorems regarding the distribution of identical objects into distinct boxes.</p>
<p>The generalized form of the most basic “Stars and Bars” question asks: <em>How many ways are there to distribute <span class="math inline">\(n\)</span> identical (indistinguisable) balls into <span class="math inline">\(k\)</span> distinct (distinguishable) boxes, such that each box contains at least 1 ball.</em></p>
<p>Much like the majority of contest math ideas, there is an elegant and simplistic visual solution to the problem above.</p>
<p>We can visualize the <span class="math inline">\(n\)</span> balls to be organized in a row.</p>
<center>
O O O … O O O
</center>
<p>The balls distributed to each of the <span class="math inline">\(k\)</span> boxes can be determined by placing <span class="math inline">\(k-1\)</span> “wedges” in between gaps between the balls. The amount of balls between adjacent wedges represent the amount of balls distributed to a box. The amount of balls which are found between the <span class="math inline">\((i-1)^{th}\)</span> and <span class="math inline">\(i^{th}\)</span> wedge represents the amount of balls within the <span class="math inline">\(i^{th}\)</span> box. Furthermore, the <span class="math inline">\(0^{th}\)</span> and <span class="math inline">\(n^{th}\)</span> wedge are not shown, but they represent the beginning and the end of the row of balls. Therefore, to divide the <span class="math inline">\(n\)</span> balls into <span class="math inline">\(k\)</span> boxes, one only needs to place <span class="math inline">\(k-1\)</span> wedges.</p>
<p>For example, if <span class="math inline">\(n = 7\)</span> and <span class="math inline">\(k = 3\)</span>, a possible configuration is:</p>
<center>
O | O O | O O O O
</center>
<p>In this example, there’s 1 ball in the first box, 2 balls in the second box and 4 balls in the third box. When <span class="math inline">\(n = 7\)</span> and <span class="math inline">\(k = 3\)</span>, there are 6 possible locations to put the 2 wedges.</p>
<p>Thus, when generalized: <span class="math inline">\(\forall n, k\in \mathbb{N}\)</span>, there are <span class="math inline">\(\binom{n-1}{k-1}\)</span> ways to distribute <span class="math inline">\(n\)</span> identical balls into <span class="math inline">\(k\)</span> distinct boxes.</p>
<p>Furthermore, the question of distributing <span class="math inline">\(n\)</span> balls into <span class="math inline">\(k\)</span> boxes such that each box contains at least one ball can be reworded as: <em>How many k-tuples of positive integers exist who sum of elements is <span class="math inline">\(n\)</span>?</em></p>
<p>Denote the <span class="math inline">\(i^{th}\)</span> element in the k-tuple as <span class="math inline">\(a_i\)</span>.</p>
<p><span class="math display">\[\sum_{i=1}^{k} a_i = n, \text{ with } a_i &gt; 0 \text{ for } 1 \le i \le k \]</span></p>
<p>Since this is just an algebraic rewording of the previous question with balls and boxes, once again, the number of k-tuples of positive integers whose elements adds up to n is <span class="math inline">\(\binom{n-1}{k-1}\)</span>.</p>
<p>For example, one possible question which involves stars and bars is: Find the number of quintuples <span class="math inline">\((x_1, x_2, x_3, x_4, x_5)\)</span> of positive integers which satisfy <span class="math inline">\(x_1 + x_2 + x_3 + x_4 + x_5 = 7\)</span>.</p>
<p>The amount of quintuples <span class="math inline">\((x_1, x_2, x_3, x_4, x_5)\)</span> which satisfy these conditions are: <span class="math inline">\(\binom{6}{4} = 15\)</span> quintuples.</p>
<p>This number is small enough to actually list out the set of quintuples:</p>
<p><span class="math display">\[ S = \{(1, 2, 2, 1, 1), (1, 3, 1, 1, 1), (1, 1, 2, 2, 1), (2, 1, 1, 1, 2), (1, 1, 1, 1, 3), (1, 2, 1, 2, 1), (1, 1, 3, 1, 1), (2, 1, 2, 1, 1), (1, 2, 1, 1, 2), (2, 2, 1, 1, 1), (1, 1, 2, 1, 2), (1, 1, 1, 2, 2), (1, 1, 1, 3, 1), (2, 1, 1, 2, 1), (3, 1, 1, 1, 1)\} \]</span></p>
<p>By inspecting this set of quintuples, it’s evident that there are only 2 unique quintuples: <span class="math inline">\((1,1,1,2,2)\)</span> and <span class="math inline">\((1,1,1,1,3)\)</span>, and all other quintuples in the set are permutations of these base quintuples.</p>
<p>There are <span class="math inline">\(\binom{5}{2} = 10\)</span> permutations of the <span class="math inline">\((1,1,1,2,2)\)</span> tuple and <span class="math inline">\(\binom{5}{1} = 5\)</span> permutations of the <span class="math inline">\((1,1,1,1,3)\)</span> tuple, which together form the set of <span class="math inline">\(\binom{5}{2} + \binom{5}{1} = \binom{6}{4} = 15\)</span> tuples.</p>
<p>In the current state, the problem space is relatively constricted: it can only solve problems when there is at least one ball in each bin, that is <span class="math inline">\(x_i &gt; 0 \text{ for } 1 \le i \le n\)</span>.</p>
<p>What if <span class="math inline">\(x_i\)</span> was bounded by some <span class="math inline">\(m_i \in \mathbb{Z}\)</span> such that <span class="math inline">\(x_i \ge m_i\)</span>. For example: Find the number of quintuple of integers <span class="math inline">\((x_1, x_2, x_3, x_4, x_5)\)</span> such that:</p>
<ol type="1">
<li><span class="math inline">\(x_i \ge i \text{ for } 1 \le i \le n\)</span></li>
<li><span class="math inline">\(\sum_{i=1}^{5} x_i = 25\)</span></li>
</ol>
<p>How do we translate this problem to a Stars and Bars problem? If we imagine each <span class="math inline">\(x_1\)</span>, <span class="math inline">\(x_2\)</span> … <span class="math inline">\(x_n\)</span> to once again represent boxes. To get rid of the arbitrary lower bounds <span class="math inline">\(m_i\)</span> we can simply distribute <span class="math inline">\(m_i - 1\)</span> balls into the <span class="math inline">\(i^{th}\)</span> box before solving the problem as a Stars and Bars. Thus, to satisfy the restrictions when we actually “distribute” the balls, each box only needs 1 ball to satisfy the restriction of <span class="math inline">\(x_i \ge m_i\)</span>. Thus, turning into the classic Stars and Bars problem.</p>
<p>So, to solve the example, we denote <span class="math inline">\(a_i = x_i - i + 1\)</span> where <span class="math inline">\(a_i \gt 0\)</span>. The equation <span class="math inline">\(x_1 + x_2 + x_3 + x_4 + x_5 = 25\)</span> becomes <span class="math inline">\((x_1 - 0) + (x_2 - 1) + (x_3 - 2) + (x_4 - 3) + (x_5 - 4) = 25 - \sum_{i = 1}^{4} i\)</span>.</p>
<p>Thus, <span class="math inline">\(a_1 + a_2 + a_3 + a_4 + a_5 = 15\)</span> with <span class="math inline">\(a_i \gt 0 \text{ for } 1 \le i \le 5\)</span>. By Stars and Bars, there exists <span class="math inline">\(\binom{14}{4}\)</span> quintuples <span class="math inline">\((a_1, a_2, a_3, a_4, a_5)\)</span> such that <span class="math inline">\(\sum_{i = 1}^{5} a_i = 15\)</span>. Similarly, this also means that there exists <span class="math inline">\(\binom{14}{4} = 1001\)</span> quintuples <span class="math inline">\((x_1, x_2, x_3, x_4, x_5)\)</span> which satisfy the conditions presented above.</p>
</body>
</html>
